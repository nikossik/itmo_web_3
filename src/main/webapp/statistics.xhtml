<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Point Statistics</title>
    <h:outputStylesheet name="css/main.css"/>
    <style type="text/css">
        .statistics-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .stat-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        
        .violation-list {
            margin-top: 20px;
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
        }
        
        .violation-item {
            padding: 5px 0;
            border-bottom: 1px solid #ffe8a1;
        }
        
        .violation-item:last-child {
            border-bottom: none;
        }
    </style>
</h:head>
<h:body>
    <div class="main-container">
        <header class="main-header">
            <h1>Статистика точек</h1>
        </header>
        
        <div class="statistics-container">
            <div class="stat-card">
                <h2>Общая статистика</h2>
                <div class="stat-row">
                    <span class="stat-label">Всего точек:</span>
                    <span class="stat-value">#{pointCounter.totalPointCount}</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Точек в области:</span>
                    <span class="stat-value">#{pointCounter.pointsInAreaCount}</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Процент попаданий:</span>
                    <span class="stat-value">
                        <h:outputText value="#{hitPercentage.hitPercentage}">
                            <f:convertNumber maxFractionDigits="0" type="number"/>
                        </h:outputText>%
                    </span>
                </div>
            </div>
            
            <div class="stat-card">
                <h2>Нарушения границ</h2>
                <h:panelGroup rendered="#{empty pointCounter.boundaryViolations}">
                    <p>Нет нарушений границ координатной плоскости.</p>
                </h:panelGroup>
                
                <h:panelGroup rendered="#{not empty pointCounter.boundaryViolations}">
                    <div class="violation-list">
                        <ui:repeat value="#{pointCounter.boundaryViolations}" var="violation">
                            <div class="violation-item">
                                <h:outputText value="#{violation}" />
                            </div>
                        </ui:repeat>
                    </div>
                </h:panelGroup>
            </div>
        </div>
        
        <footer class="main-footer">
            <h:form>
                <h:commandButton value="Вернуться на главную"
                                 action="#{navigationBean.toIndexPage}"
                                 styleClass="back-button"/>
                <h:commandButton value="К графику"
                                 action="#{navigationBean.toMainPage}"
                                 styleClass="button"/>
            </h:form>
        </footer>
    </div>
</h:body>
</html> 